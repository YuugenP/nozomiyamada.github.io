<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Math Tools</title>

  <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
  <style type="text/css">
  .bs-component + .bs-component {
    margin-top: 1rem;
  }
  @media (min-width: 768px) {
    .bs-docs-section {margin-top: 8em;}
    .bs-component {position: relative;}
    .bs-component .modal {
      position: relative;
      top: auto;
      right: auto;
      bottom: auto;
      left: auto;
      z-index: 1;
      display: block;
    }
    .bs-component .modal-dialog {width: 90%;}
    .bs-component .popover {
      position: relative;
      display: inline-block;
      width: 220px;
      margin: 20px;
    }
    .nav-tabs {margin-bottom: 15px;}
    .progress {margin-bottom: 10px;}
    .function_list:hover {cursor: pointer; color:dodgerblue}
    .answer:hover{cursor: pointer;}
    .red{color:indianred}
    .blue{color:royalblue}
  }
  </style>
  <script src='js/statistics.js'></script>
  <script src='js/special_func.js'></script>
  <script src='js/gcd_lcm.js'></script>
  <script src='js/misc.js'></script>
</head>

<body>
<header>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" href="index.html">Nozomi</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor02" aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarColor02">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="about.html">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="link.html">Links</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="blog.html">Blog</a>
        </li>
        <li class="nav-item">
					<a class="nav-link" href="nhk.html">NHKWeb</a>
				</li>
        <li class="nav-item">
          <a class="nav-link" href="ipathai.html">タイ語入力</a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="tool.html">Math Tools<span class="sr-only">(current)</span></a>
        </li>
      </ul>
      <!--
      <form class="form-inline my-2 my-lg-0">
        <input class="form-control mr-sm-2" type="text" placeholder="Search">
        <button class="btn btn-secondary my-2 my-sm-0" type="submit">Search</button>
      </form>
      -->
    </div>
  </nav>
</header>

<br>
<div class="container">

  <div class="row">
    <div class="col-lg-12">
      <h2>Math Tools</h2>
      <h5>source code -> <a href="https://github.com/nozomiyamada/JS_mathtool" target="_blank">GitHub</a></h5>
      <p>You can try all functions on the console (for Google Chrome, press F12 key to open)<br>
        Each answer displayed below can be copied to clipboard just by clicking.<br>
        <span onclick="show_function();" class="function_list"><strong>+ list of JS functions</strong></span>
        <div id='functions' style="display: none;">
          <ul>
            <li><code>gcd2(a,b)</code></li>
            <li><code>gcd(nums)</code></li>
            <li><code>lcm2(a,b)</code></li>
            <li><code>lcm(nums)</code></li>
            <li><code>combination(n,k)</code></li>
            <li><code>permutation(n,k)</code></li>
            <li><code>round(num,decimal=0)</code></li>
            <li><code>sum(nums)</code></li>
            <li><code>mean(nums)</code></li>
            <li><code>median(nums)</code></li>
            <li><code>variance(nums, unbiased=true)</code></li>
            <li><code>std(nums, unbiased=true)</code></li>
            <li><code>sem(nums)</code></li>
            <li><code>skewness(nums, regularize=false)</code></li>
            <li><code>cov(nums1, nums2, unbiased=true)</code></li>
            <li><code>corr(cov12, s1, s2)</code></li>
            <li><code>corr_arr(arr1, arr2)</code></li>
            <li><code>regression(arr1, arr2)</code></li>
            <li><code>chi2(arr1, arr2, yates=false)</code></li>
            <li><code>chi2_independence(arr1,arr2)</code></li>
            <li><code>welch(mu1,mu2,s1,s2,n1,n2)</code></li> 
            <li><code>welch_arr(arr1, arr2)</code></li>
            <li><code>effect_size(arr1, arr2)</code></li>
            <li><code>convert_base(num, base_from, base_to)</code></li>
            <li><code>Euler_const</code></li>
            <li><code>gauss_legendre(func,a,b,split=1000,n=5)</code></li>
            <li><code>newton(func,func_prime,y,x0,iter=15)</code></li>
            <li><code>brent(func,y,a0,b0,iter=100,epsiron=1e-15)</code></li>
            <li><code>erf(z,split=1e3,n=5)</code></li>
            <li><code>erf2(z, N=100)</code></li>
            <li><code>erfc(z,split=1e3,n=5)</code></li>
            <li><code>inv_erf(y,iter=30)</code></li>
            <li><code>inv_erf2(y, N=300)</code></li>
            <li><code>fact(n)</code></li>
            <li><code>gamma(s,split=1e3,n=5)</code></li>
            <li><code>incomplete_gamma(s,x,split=1e3,n=5)</code></li>
            <li><code>inv_gamma(y,iter=30)</code></li>
            <li><code>inv_incomplete_gamma(s,y,x0=s,iter=30)</code></li>
            <li><code>gamma2(s,N=1e6)</code></li>
            <li><code>beta(a,b,split=1e3,n=5)</code></li>
            <li><code>incomplete_beta(a,b,x,split=1e3,n=5)</code></li>
            <li><code>regularized_beta(a,b,x,split=1e3,n=5)</code></li>
            <li><code>inv_regularized_beta(a,b,y,iter=30)</code></li>
            <li><code>sigmoid(x)</code></li>
            <li><code>z_to_p(z, taylor=false)</code></li>
            <li><code>p_to_z(p, taylor=false)</code></li>
            <li><code>t_to_p(t, df)</code></li>
            <li><code>p_to_t(p, df)</code></li>
            <li><code>chi_to_p(chi, df)</code></li>
            <li><code>p_to_chi(p, df)</code></li>
            <li><code>f_to_p(F, df1, df2)</code></li>
            <li><code>p_to_f(p, df1, df2)</code></li>
            <li><code>poisson(lambda, k)</code></li>
            <li><code>poisson_cum(lambda, k)</code></li>
            <li><code>poisson_to_p(lambda, k, split=100)</code></li>
          </ul>
        </div>
      </p>
    </div>
  </div>
  

  <div class="row">
    <div class="col-lg-12">
      <h2>Statistics</h2>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-12">
      <div class="bs-component">
        <div class="card border-primary mb-3" style="min-height: 20rem;">
          <div class="card-header">statistics values</div>
          <div class="card-body">
            <form onsubmit="show_stats();return false;">
            <table class='table' style="table-layout: fixed;">
              <tr id='stats_input_row1'>
                <td colspan="6"><input type='text' class="form-control" id='stats_input1' placeholder="values with space" autocomplete="off"></td>
              </tr>
              <tr id='stats_input_row2' style="display: none;">
                <td colspan="6"><input type='text' class="form-control" id='stats_input2' placeholder="values with space" autocomplete="off"></td>
              </tr>
              <tr>
                <td colspan="6">
                  <button class="btn btn-outline-primary" onclick="show_stats();return false">calculate</button>
                  <button class="btn btn-outline-primary" onclick="reset_stats.reset();return false">reset</button>
                  <input type="checkbox" id="unbiased" checked><label for="unbiased">&nbsp;unbiased</label>
                  <input type="checkbox" id="stats_add_check" onchange="stats_show_second_row();"><label for="stats_add_check">&nbsp;2 data</label>
                </td>
              </tr>
              <tr>
                <td align="center"><strong>df=N-1</strong></td>
                <td align="center"><strong>mean</strong></td>
                <td align="center"><strong>SD</strong></td>
                <td align="center"><strong>SEM</strong></td>
                <td align="center"><strong>median</strong></td>
                <td align="center"><strong>skewness</strong></td>
              </tr>
              <tr class="table-active" id='stats_output_row1'>
                <td align="center"><strong class='stats_output answer' id="df" onclick="copy_to_clipboard();">0</strong></td>
                <td align="center"><strong class='stats_output answer' id="mean"onclick="copy_to_clipboard();">0</strong></td>
                <td align="center"><strong class='stats_output answer' id="std" onclick="copy_to_clipboard();">0</strong></td>
                <td align="center"><strong class='stats_output answer' id="sem" onclick="copy_to_clipboard();">0</strong></td>
                <td align="center"><strong class='stats_output answer' id="median" onclick="copy_to_clipboard();">0</strong></td>
                <td align="center"><strong class='stats_output' id="skewness" onclick="copy_to_clipboard();">0</strong></td>
              </tr>
              <tr class="table-active" id='stats_output_row2' style="display: none">
                <td align="center"><strong class='stats_output answer' id="df2" onclick="copy_to_clipboard();">0</strong></td>
                <td align="center"><strong class='stats_output answer' id="mean2" onclick="copy_to_clipboard();">0</strong></td>
                <td align="center"><strong class='stats_output answer' id="std2" onclick="copy_to_clipboard();">0</strong></td>
                <td align="center"><strong class='stats_output answer' id="sem2" onclick="copy_to_clipboard();">0</strong></td>
                <td align="center"><strong class='stats_output answer' id="median2" onclick="copy_to_clipboard();">0</strong></td>
                <td align="center"><strong class='stats_output answer' id="skewness2" onclick="copy_to_clipboard();">0</strong></td>
              </tr>
              <tr id='stats_output_row3' style="display: none">
                <td align="center"><strong class='answer' id="stats_pooled_sd" onclick="copy_to_clipboard();">pooled SD</strong></td>
                <td align="center"><strong class='answer' id="stats_cov" onclick="copy_to_clipboard();">covariance</strong></td>
                <td align="center"><strong class='answer' id="stats_corr" onclick="copy_to_clipboard();">correlation</strong></td>
                <td colspan="2" align="center"><strong class='answer' id="stats_regression">regression</strong></td>
              </tr>
            </table>
            </form>
          </div>
        </div>
      </div>
    </div>
    
  </div> <!--row statistic values -->
  
  <div class="row">
    <div class="col-lg-6">
      <div class="bs-component">
        <div class="card border-info mb-3" style="min-height: 16rem;">
          <div class="card-header">Welch's t-test</div>
          <div class="card-body">
            <form onsubmit="show_ttest();return false;">
            <table class='table' style="table-layout: fixed;">
              <tr>
                <td colspan="2"><input type='text' class="form-control" id='ttest_input1' placeholder="mean1, SD1, n1" autocomplete="off"></td>
                <td colspan="2"><input type='text' class="form-control" id='ttest_input2' placeholder="mean2, SD2, n2" autocomplete="off"></td>
              </tr>

              <tr>
                <td colspan="4">
                  <button class="btn btn-outline-info" onclick="show_ttest();return false">calculate</button>
                  <button class="btn btn-outline-info" onclick="reset_ttest.reset();return false">reset</button>
                </td>
              </tr>
              <tr class="table-active">
                <td align="center" class="answer" onclick="copy_to_clipboard();" data-toggle="tooltip" data-placement="bottom" title="click to copy"><strong id="ttest_output_t">t-value</strong></td>
                <td align="center" class="answer" onclick="copy_to_clipboard();" data-toggle="tooltip" data-placement="bottom" title="click to copy"><strong id="ttest_output_df">df</strong></td>
                <td align="center" class="answer" onclick="copy_to_clipboard();" data-toggle="tooltip" data-placement="bottom" title="click to copy"><strong id="ttest_output_p">p(t≤x)</strong></td>
                <td align="center" class="answer" onclick="copy_to_clipboard();" data-toggle="tooltip" data-placement="bottom" title="click to copy"><strong id="ttest_output_effect">Cohen d</strong></td>
              </tr>
            </table>
            </form>
          </div>
        </div>
      </div> 
    </div> <!-- Welch's t-test -->

    <div class="col-lg-6">
      <div class="bs-component">
        <div class="card border-info mb-3" style="min-height: 16rem;">
          <div class="card-header">F-test of 2 variances</div>
          <div class="card-body">
            <form onsubmit="show_ftest();return false;">
            <table class='table' style="table-layout: fixed;">
              <tr>
                <td colspan="3"><input type='text' class="form-control" id='ftest_input1' placeholder="SD1, df1" autocomplete="off"></td>
                <td colspan="3"><input type='text' class="form-control" id='ftest_input2' placeholder="SD2, df2" autocomplete="off"></td>
              </tr>

              <tr>
                <td colspan="6">
                  <button class="btn btn-outline-info" onclick="show_ftest();return false">calculate</button>
                  <button class="btn btn-outline-info" onclick="reset_ftest.reset();return false">reset</button>
                </td>
              </tr>
              <tr class="table-active">
                <td colspan="2" align="center" class="answer" onclick="copy_to_clipboard();" data-toggle="tooltip" data-placement="bottom" title="click to copy"><strong id="ftest_output_f">F-value</strong></td>
                <td colspan="2" align="center" class="answer" onclick="copy_to_clipboard();" data-toggle="tooltip" data-placement="bottom" title="click to copy"><strong id="ftest_output_p_up">p(F≤x)</strong></td>
                <td colspan="2" align="center" class="answer" onclick="copy_to_clipboard();" data-toggle="tooltip" data-placement="bottom" title="click to copy"><strong id="ftest_output_p_low">p(x≤F)</strong></td>
              </tr>
            </table>
            </form>
          </div>
        </div>
      </div>
    </div> <!-- F-test -->
    
  </div> <!--row statistic values -->

  <div class="row">
    <div class="col-lg-12">
      <h2>normal & t distribution</h2>
    </div>
  </div>

  <div class="row">

    <div class="col-lg-3">
      <div class="bs-component">
        <div class="card border-success mb-3" style="min-height: 16rem;">
        <div class="card-header">z-score to p(z≤x)</div>
          <div class="card-body">
            <p align="center"><img style="height: 100px; display: inline-block;" src="image/z_to_p.png"></p>
            <form onsubmit="z2p();return false;">
            <table class='table'>
              <tr><td><input type='text' class="form-control" id='z2p_input' placeholder="z-score" autocomplete="off"></td></tr>
              <tr>
                <td>
                <button class="btn btn-outline-success" onclick="z2p();return false">calculate</button>
                <button class="btn btn-outline-success" onclick="reset_z2p.reset();return false">reset</button>
                </td>
              </tr>
              <tr class="table-active">
                <td align="center" class="answer" onclick="copy_to_clipboard();" data-toggle="tooltip" data-placement="bottom" title="click to copy"><strong id="z2p_output">p(z≤x)</strong></td>
              </tr>
            </table>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-3">
      <div class="bs-component">
        <div class="card border-success mb-3" style="min-height: 16rem;">
          <div class="card-header">p(z≤x) to z-score</div>
          <div class="card-body">
            <p align="center"><img style="height: 100px; display: inline-block;" src="image/z_to_p.png"></p>
            <form onsubmit="p2z();return false;">
            <table class='table'>
              <tr><td><input type='text' class="form-control" id='p2z_input' placeholder="P(z≤x)" autocomplete="off"></td></tr>
              <tr>
                <td>
                <button class="btn btn-outline-success" onclick="p2z();return false">calculate</button>
                <button class="btn btn-outline-success" onclick="reset_p2z.reset();return false">reset</button>
                </td>
              </tr>
              <tr class="table-active">
                <td align="center" class="answer" onclick="copy_to_clipboard();" data-toggle="tooltip" data-placement="bottom" title="click to copy"><strong id="p2z_output">z-score</strong></td>
              </tr>
            </table>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-3">
      <div class="bs-component">
        <div class="card border-warning mb-3" style="min-height: 16rem;">
          <div class="card-header">t-value to p(t≤x)</div>
          <div class="card-body">
            <p align="center"><img style="height: 100px; display: inline-block;" src="image/t_to_p.png"></p>
            <form onsubmit="t2p();return false;">
            <table class='table'>
              <tr>
                <td><input type='text' class="form-control" id='t2p_input_t' placeholder="t-value" autocomplete="off"></td>
                <td><input type='text' class="form-control" id='t2p_input_df' placeholder="df" autocomplete="off"></td>
              </tr>
              <tr>
                <td colspan="2">
                <button class="btn btn-outline-warning" onclick="t2p();return false">calculate</button>
                <button class="btn btn-outline-warning" onclick="reset_t2p.reset();return false">reset</button>
                </td>
              </tr>
              <tr class="table-active">
                <td colspan="2" align="center" class="answer" onclick="copy_to_clipboard();" data-toggle="tooltip" data-placement="bottom" title="click to copy"><strong id="t2p_output">p(t≤x)</strong></td>
              </tr>
            </table>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-3">
      <div class="bs-component">
        <div class="card border-warning mb-3" style="min-height: 16rem;">
          <div class="card-header">p(t≤x) to t-value</div>
          <div class="card-body">
            <p align="center"><img style="height: 100px; display: inline-block;" src="image/t_to_p.png"></p>
            <form onsubmit="p2t();return false;">
            <table class='table'>
              <tr>
                <td><input type='text' class="form-control" id='p2t_input_p' placeholder="p(t≤x)" autocomplete="off"></td>
                <td><input type='text' class="form-control" id='p2t_input_df' placeholder="df" autocomplete="off"></td>
              </tr>
              <tr>
                <td colspan="2">
                <button class="btn btn-outline-warning" onclick="p2t();return false">calculate</button>
                <button class="btn btn-outline-warning" onclick="reset_p2t.reset();return false">reset</button>
                </td>
              </tr>
              <tr class="table-active">
                <td colspan="2" align="center" class="answer" onclick="copy_to_clipboard();" data-toggle="tooltip" data-placement="bottom" title="click to copy"><strong id="p2t_output">t-value</strong></td>
              </tr>
            </table>
            </form>
          </div>
        </div>
      </div>
    </div>

  </div> <!--row normal & t distribution-->

  <div class="row">
    <div class="col-lg-12">
      <h2>χ<sup>2</sup> & F distribution</h2>
    </div>
  </div>

  <div class="row">

    <div class="col-lg-3">
      <div class="bs-component">
        <div class="card border-success mb-3" style="min-height: 16rem;">
        <div class="card-header">χ<sup>2</sup> to p</div>
          <div class="card-body">
            <p align="center"><img style="height: 100px; display: inline-block;" src="image/chi_to_p.png"></p>
            <form onsubmit="chi2p();return false;">
            <table class='table'>
              <tr>
                <td><input type='text' class="form-control" id='chi2p_input_chi' placeholder="chi2" autocomplete="off"></td>
                <td><input type='text' class="form-control" id='chi2p_input_df' placeholder="df" autocomplete="off"></td>
              </tr>
              <tr>
                <td colspan="2">
                <button class="btn btn-outline-success" onclick="chi2p();return false">calculate</button>
                <button class="btn btn-outline-success" onclick="reset_chi2p.reset();return false">reset</button>
                </td>
              </tr>
              <tr class="table-active">
                <td colspan="2" align="center" class="answer" onclick="copy_to_clipboard();"><strong id="chi2p_output_up" class='blue'>p(χ<sup>2</sup>≤x)</strong></td>
              </tr>
              <tr class="table-active">
                <td colspan="2" align="center" class="answer" onclick="copy_to_clipboard();" data-toggle="tooltip" data-placement="bottom" title="click to copy"><strong id="chi2p_output_low" class='red'>p(x≤χ<sup>2</sup>)</strong></td>
              </tr>
            </table>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-3">
      <div class="bs-component">
        <div class="card border-success mb-3" style="min-height: 16rem;">
          <div class="card-header">p to χ<sup>2</sup></div>
          <div class="card-body">
            <p align="center"><img style="height: 100px; display: inline-block;" src="image/p_to_chi.png"></p>
            <form onsubmit="p2chi();return false;">
            <table class='table'>
              <tr>
                <td><input type='text' class="form-control" id='p2chi_input_p' placeholder="p" autocomplete="off"></td>
                <td><input type='text' class="form-control" id='p2chi_input_df' placeholder="df" autocomplete="off"></td>
              </tr>
              <tr>
                <td colspan="2">
                <button class="btn btn-outline-success" onclick="p2chi();return false">calculate</button>
                <button class="btn btn-outline-success" onclick="reset_p2chi.reset();return false">reset</button>
                </td>
              </tr>
              <tr class="table-active">
                <td colspan="2" align="center" class="answer" onclick="copy_to_clipboard();"><strong id="p2chi_output_up" class='blue'>χ<sup>2</sup></strong></td>
              </tr>
              <tr class="table-active">
                <td colspan="2" align="center" class="answer" onclick="copy_to_clipboard();" data-toggle="tooltip" data-placement="bottom" title="click to copy"><strong id="p2chi_output_low" class='red'>χ<sup>2</sup></strong></td>
              </tr>
            </table>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-3">
      <div class="bs-component">
        <div class="card border-warning mb-3" style="min-height: 16rem;">
          <div class="card-header">F-value to p</div>
          <div class="card-body">
            <p align="center"><img style="height: 100px; display: inline-block;" src="image/f_to_p.png"></p>
            <form onsubmit="f2p();return false;">
            <table class='table'>
              <tr>
                <td><input type='text' class="form-control" id='f2p_input_f' placeholder="F" autocomplete="off"></td>
                <td><input type='text' class="form-control" id='f2p_input_df' placeholder="df1 df2" autocomplete="off"></td>
              </tr>
              <tr>
                <td colspan="2">
                <button class="btn btn-outline-warning" onclick="f2p();return false">calculate</button>
                <button class="btn btn-outline-warning" onclick="reset_f2p.reset();return false">reset</button>
                </td>
              </tr>
              <tr class="table-active">
                <td colspan="2" align="center" class="answer" onclick="copy_to_clipboard();"><strong id="f2p_output_up" class='blue'>p(F≤x)</strong></td>
              </tr>
              <tr class="table-active">
                <td colspan="2" align="center" class="answer" onclick="copy_to_clipboard();" data-toggle="tooltip" data-placement="bottom" title="click to copy"><strong id="f2p_output_low" class='red'>p(x≤F)</strong></td>
              </tr>
            </table>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-3">
      <div class="bs-component">
        <div class="card border-warning mb-3" style="min-height: 16rem;">
          <div class="card-header">p to F-value</div>
          <div class="card-body">
            <p align="center"><img style="height: 100px; display: inline-block;" src="image/p_to_f.png"></p>
            <form onsubmit="p2f();return false;">
            <table class='table'>
              <tr>
                <td><input type='text' class="form-control" id='p2f_input_p' placeholder="p" autocomplete="off"></td>
                <td><input type='text' class="form-control" id='p2f_input_df' placeholder="df1 df2" autocomplete="off"></td>
              </tr>
              <tr>
                <td colspan="2">
                <button class="btn btn-outline-warning" onclick="p2f();return false">calculate</button>
                <button class="btn btn-outline-warning" onclick="reset_p2f.reset();return false">reset</button>
                </td>
              </tr>
              <tr class="table-active">
                <td colspan="2" align="center" class="answer" onclick="copy_to_clipboard();"><strong id="p2f_output_up" class='blue'>F-value</strong></td>
              </tr>
              <tr class="table-active">
                <td colspan="2" align="center" class="answer" onclick="copy_to_clipboard();" data-toggle="tooltip" data-placement="bottom" title="click to copy"><strong id="p2f_output_low" class='red'>F-value</strong></td>
              </tr>
            </table>
            </form>
          </div>
        </div>
      </div>
    </div>

  </div> <!--chi2 & F distribution-->

  <div class="row">
    <div class="col-lg-12">
      <div class="bs-component">
        <div class="card border-primary mb-3" style="min-height: 20rem;">
          <div class="card-header">χ<sup>2</sup> test</div>
          <div class="card-body">
            <form onsubmit="show_chitest();return false;">
            <table class='table' style="table-layout: fixed;">
              <tr>
                <td colspan="2">
                  <select class="form-control" id='chitest_selectbox' onchange="chitest_select();">
                    <option value="fit" selected>fit</option>
                    <option value="independence">independence</option>
                  </select>
                </td>
                <td colspan="6" id="chitest_description" style="padding-top: 1.2em;">1st row: observations　2nd row: expected ratio, e.g. 1:2:3</td>
              </tr>
              <tr>
                <td><input type='text' class="form-control chitest_input" id='chitest_input11' placeholder="value" autocomplete="off"></td>
                <td><input type='text' class="form-control chitest_input" id='chitest_input12' autocomplete="off"></td>
                <td><input type='text' class="form-control chitest_input" id='chitest_input13' autocomplete="off"></td>
                <td><input type='text' class="form-control chitest_input" id='chitest_input14' autocomplete="off"></td>
                <td><input type='text' class="form-control chitest_input" id='chitest_input15' autocomplete="off"></td>
                <td><input type='text' class="form-control chitest_input" id='chitest_input16' autocomplete="off"></td>
                <td><input type='text' class="form-control chitest_input" id='chitest_input17' autocomplete="off"></td>
                <td><input type='text' class="form-control chitest_input" id='chitest_input18' autocomplete="off"></td>
              </tr>
              <tr>
                <td><input type='text' class="form-control chitest_input" id='chitest_input21' placeholder="value" autocomplete="off"></td>
                <td><input type='text' class="form-control chitest_input" id='chitest_input22' autocomplete="off"></td>
                <td><input type='text' class="form-control chitest_input" id='chitest_input23' autocomplete="off"></td>
                <td><input type='text' class="form-control chitest_input" id='chitest_input24' autocomplete="off"></td>
                <td><input type='text' class="form-control chitest_input" id='chitest_input25' autocomplete="off"></td>
                <td><input type='text' class="form-control chitest_input" id='chitest_input26' autocomplete="off"></td>
                <td><input type='text' class="form-control chitest_input" id='chitest_input27' autocomplete="off"></td>
                <td><input type='text' class="form-control chitest_input" id='chitest_input28' autocomplete="off"></td>
              </tr>
              <tr>
                <td colspan="8">
                  <button class="btn btn-outline-primary" onclick="show_chitest();return false">calculate</button>
                  <button class="btn btn-outline-primary" onclick="reset_chitest.reset();return false">reset</button>
                </td>
              </tr>
              <tr id='chitest_output_row_E'>
                <td align="center"><strong class='chitest_output answer' id="chitest_E1" onclick="copy_to_clipboard();">E<sub>1</sub></strong></td>
                <td align="center"><strong class='chitest_output answer' id="chitest_E2" onclick="copy_to_clipboard();">E<sub>2</sub></strong></td>
                <td align="center"><strong class='chitest_output answer' id="chitest_E3" onclick="copy_to_clipboard();">E<sub>3</sub></strong></td>
                <td align="center"><strong class='chitest_output answer' id="chitest_E4" onclick="copy_to_clipboard();">E<sub>4</sub></strong></td>
                <td align="center"><strong class='chitest_output answer' id="chitest_E5" onclick="copy_to_clipboard();">E<sub>5</sub></strong></td>
                <td align="center"><strong class='chitest_output answer' id="chitest_E6" onclick="copy_to_clipboard();">E<sub>6</sub></strong></td>
                <td align="center"><strong class='chitest_output answer' id="chitest_E7" onclick="copy_to_clipboard();">E<sub>7</sub></strong></td>
                <td align="center"><strong class='chitest_output answer' id="chitest_E8" onclick="copy_to_clipboard();">E<sub>8</sub></strong></td>
              </tr>
              <tr class="table-active" id='chi_output_row2'>
                <td colspan="2" align="center"><strong class='chitest_output answer' id="chitest_output_chi" onclick="copy_to_clipboard();">χ<sup>2</sup></strong></td>
                <td align="center"><strong class='chitest_output answer' id="chitest_output_df" onclick="copy_to_clipboard();">df</strong></td>
                <td colspan="5"></td>
              </tr>
            </table>
            </form>
          </div>
        </div>
      </div>
    </div>
    
  </div> <!--row chi2 test -->

  <div class="row">
    <div class="col-lg-12">
      <h2>Poisson & Gamma Distribution</h2>
    </div>
  </div>
  
  <div class="row">
    <div class="col-lg-5">
      <div class="bs-component">
        <div class="card border-primary mb-3" style="min-height: 20rem;">
          <div class="card-header">Poisson Distribution</div>
          <div class="card-body">
            <p align="center"><img style="height: 100px; display: inline-block;" src="image/poisson.png"></p>
            <form onsubmit="show_poisson();return false;">
            <table class='table'>
              <tr>
                <td><input type='text' class="form-control" id='poisson_input1' placeholder="mean times λ" autocomplete="off"></td>
                <td><input type='text' class="form-control" id='poisson_input2' placeholder="times k" autocomplete="off"></td>
              </tr>
              <tr>
                <td colspan="2">
                  <button class="btn btn-outline-primary" onclick="show_poisson();return false">calculate</button>
                  <button class="btn btn-outline-primary" onclick="reset_poisson.reset();return false">reset</button>
                </td>
              </tr>
              <tr class="table-active">
                <td align="center" class="answer" onclick="copy_to_clipboard();" data-toggle="tooltip" data-placement="bottom" title="click to copy"><strong id="poisson_output1">P(X=k)</strong></td>
                <td align="center" class="answer" onclick="copy_to_clipboard();" data-toggle="tooltip" data-placement="bottom" title="click to copy"><strong id="poisson_output2">P(X≥k)</strong></td>
              </tr>
            </table>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-7">
      <div class="bs-component">
        <div class="card border-info mb-3" style="min-height: 20rem;">
          <div class="card-header">Gamma Distribution</div>
          <div class="card-body">
            <p align="center"><img style="height: 100px; display: inline-block;" src="image/gamma.png"></p>
            <form onsubmit="show_gamma();return false;">
            <table class='table'>
              <tr>
                <td colspan="2"><input type='text' class="form-control" id='gamma_input1' placeholder="mean period θ" autocomplete="off"></td>
                <td colspan="2"><input type='text' class="form-control" id='gamma_input2' placeholder="times k" autocomplete="off"></td>
                <td colspan="2"><input type='text' class="form-control" id='gamma_input3' placeholder="time x" autocomplete="off"></td>
              </tr>
              <tr>
                <td colspan="6">
                  <button class="btn btn-outline-info" onclick="show_gamma();return false">calculate</button>
                  <button class="btn btn-outline-info" onclick="reset_gamma.reset();return false">reset</button>
                </td>
              </tr>
              <tr class="table-active">
                <td colspan="3" align="center"><strong id="gamma_output1">P(x)</strong></td>
                <td colspan="3" align="center"><strong id="gamma_output2">P(0~x)</strong></td>
              </tr>
            </table>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div> <!--row Poisson % Gamma distribution-->

  <div class="row">
    <div class="col-lg-12">
      <h2>misc</h2>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-6">
      <div class="bs-component">
        <div class="card border-secondary mb-3" style="min-height: 16rem;">
          <div class="card-header">Base Converter</div>
          <div class="card-body">
            <form onsubmit="convert();return false;">
            <table class='table'>
              <tr>
                <td>
                  <select class="form-control" id='base_from' style="min-width: 4rem;">
                    <option value=10 selected>10</option>
                    <option value=16>16</option>
                    <option value=2>2</option>
                    <option value=3>3</option>
                    <option value=4>4</option>
                    <option value=5>5</option>
                    <option value=6>6</option>
                    <option value=7>7</option>
                    <option value=8>8</option>
                    <option value=9>9</option>
                  </select>
                </td>
                <td><input type='text' class="form-control" id='num_to_convert' placeholder="from" autocomplete="off"></td>
              </tr>
              <tr>
                <td>
                  <select class="form-control" id='base_to' style="min-width: 4rem;">
                    <option value=16 selected>16</option>
                    <option value=10>10</option>
                    <option value=2>2</option>
                    <option value=3>3</option>
                    <option value=4>4</option>
                    <option value=5>5</option>
                    <option value=6>6</option>
                    <option value=7>7</option>
                    <option value=8>8</option>
                    <option value=9>9</option>
                  </select>
                </td>
                <td>
                  <button class="btn btn-outline-secondary" onclick="convert();return false">convert</button>
                  <button class="btn btn-outline-secondary" onclick="reset_base.reset();return false">reset</button>
                </td>
              </tr>
              <tr class="table-active">
                <td colspan="2" align="center"><strong id="answer">answer</strong></td>
              </tr>
            </table>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-6">
      <div class="bs-component">
        <div class="card border-secondary mb-3" style="min-height: 16rem;">
          <div class="card-header">GCD & LCM</div>
          <div class="card-body">
            <form onsubmit="show_gcd();return false;">
              <table class='table'>
                <tr>
                  <td colspan="2"><input type='text' class="form-control" id='gcd_input' placeholder="integers with space" autocomplete="off"></td>
                </tr>
                <tr>
                  <td>
                    <select class="form-control" id='select_gcd' style="min-width: 6rem;">
                      <option value="gcd" selected>GCD</option>
                      <option value="lcm">LCM</option>
                    </select>
                  </td>
                  <td>
                    <button class="btn btn-outline-secondary" onclick="show_gcd();return false">search</button>
                    <button class="btn btn-outline-secondary" onclick="reset_gcd.reset();return false">reset</button>
                  </td>
                </tr>
                <tr class="table-active">
                  <td colspan="2" align="center"><strong id="answer_gcd">answer</strong></td>
                </tr>
              </table>
              </form>
          </div>
        </div>
      </div>
    </div>

  </div> <!-- row GCD LCM-->

</div> <!--container-->

<footer>
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<p><font color="white">&copy; 2020 Nozomi Yamada All Rights Reserved.</font></p>
	</nav>
</footer>

<!------- JavaScript --------->

<script>

  // convert base
  function convert(){
      let base_from = document.getElementById('base_from').value;
      let base_to = document.getElementById('base_to').value;
      let num = document.getElementById('num_to_convert').value;
      document.getElementById('answer').innerText = convert_base(num,base_from,base_to)
  }

  ///// GCD and LCM /////
  document.getElementById('gcd_input').oninput = validate_gcd;
  function validate_gcd(){
    let nums = document.getElementById('gcd_input').value.trim().split(/\s+/).map(Number); // delete spaces, split, cast as Number
    if(nums.every(Number.isInteger) && !nums.includes(0)){
      document.getElementById('gcd_input').classList.remove('is-invalid');
    }else{
      document.getElementById('gcd_input').classList.add('is-invalid');
    }
  }
  function show_gcd(){
    let elem = document.getElementById('gcd_input');
    let nums = elem.value.trim().split(/\s+/).map(Number);
    let mode = document.getElementById('select_gcd').value;
    if(nums.length>0 && !elem.classList.contains('is-invalid')){
      if(mode=='gcd'){
        document.getElementById('answer_gcd').innerText = 'GCD = ' + gcd(nums);
      }else if(mode='lcm'){
        document.getElementById('answer_gcd').innerText = 'LCM = ' + lcm(nums);
      }
      
    }
  }

  ///// show stats /////
  function stats_show_second_row(){
    var checked = document.getElementById("stats_add_check").checked;
    let IDs = ['stats_input_row2','stats_output_row2','stats_output_row3'];
    if(checked==true){
      for(var id of IDs){
        document.getElementById(id).style.display = '';}
    }else{
      for(var id of IDs){
        document.getElementById(id).style.display = 'none';}
    }
  }

  function show_stats(){
    let nums1 = document.getElementById('stats_input1').value.trim().split(/[,\s]+/).map(Number); // delete spaces, split, cast as Number
    let N1 = Number(nums1.length);
    let mu1 = round(mean(nums1),5);
    let s1 = round(std(nums1),5);
    document.getElementById('df').innerText = N1-1;
    document.getElementById('mean').innerText = mu1;
    document.getElementById('sem').innerText = round(sem(nums1),5);
    document.getElementById('median').innerText = round(median(nums1),5);
    document.getElementById('skewness').innerText = round(skewness(nums1),5);
    if(document.getElementById('unbiased').checked==true){
      document.getElementById('std').innerText = round(std(nums1),5);
    }else{
      document.getElementById('std').innerText = round(std(nums1,false),5);
    }
    if(document.getElementById("stats_add_check").checked==true){
      let nums2 = document.getElementById('stats_input2').value.trim().split(/[,\s]+/).map(Number);
      let N2 = Number(nums2.length);
      let mu2 = round(mean(nums2),5);
      let s2 = round(std(nums2),5);
      document.getElementById('df2').innerText = N2-1;
      document.getElementById('mean2').innerText = round(mean(nums2),5);
      document.getElementById('sem2').innerText = round(sem(nums2),5);
      document.getElementById('median2').innerText = round(median(nums2),5);
      document.getElementById('skewness2').innerText = round(skewness(nums2),5);
      if(document.getElementById('unbiased').checked==true){
        document.getElementById('std2').innerText = round(std(nums2),5);
      }else{
        document.getElementById('std2').innerText = round(std(nums2,false),5);
      }

      document.getElementById('ttest_input1').value = `${mu1} ${s1} ${N1}`;
      document.getElementById('ttest_input2').value = `${mu2} ${s2} ${N2}`;
      show_ttest();
      document.getElementById('ftest_input1').value = `${s1} ${N1-1}`;
      document.getElementById('ftest_input2').value = `${s2} ${N2-1}`;
      show_ftest();
      document.getElementById('stats_pooled_sd').innerText = 'pooled SD = ' + round(Math.sqrt(pooled_variance(nums1,nums2)),5);
      if(nums1.length==nums2.length){
        let cov12 = cov(nums1,nums2);
        let regression_result = regression(nums1,nums2);
        document.getElementById('stats_cov').innerText = 'cov = ' + round(cov12,5);
        document.getElementById('stats_corr').innerText = 'corr = ' + round(corr(cov12,s1,s2),5);
        document.getElementById('stats_regression').innerText = `Y = ${round(regression_result[0],4)} + ${round(regression_result[1],4)} X`;
      }else{
        document.getElementById('stats_cov').innerText = 'covariance';
        document.getElementById('stats_corr').innerText = 'correlation';
        document.getElementById('stats_regression').innerText = 'regression';
      }
    }
    
  }
  function show_ttest(){
    let nums1 = document.getElementById('ttest_input1').value.trim().split(/[,\s]+/).map(Number);
    let nums2 = document.getElementById('ttest_input2').value.trim().split(/[,\s]+/).map(Number);
    let result = welch(nums1[0],nums2[0],nums1[1],nums2[1],nums1[2],nums2[2]);
    document.getElementById('ttest_output_t').innerText = 't = ' + round(result[0],5);
    document.getElementById('ttest_output_df').innerText = 'df = ' + round(result[1],5);
    document.getElementById('ttest_output_p').innerText = 'p = ' + round(t_to_p(Math.abs(result[0]),result[1]),5);
    document.getElementById('ttest_output_effect').innerText = 'd = ' + round(effect_size(nums1[0],nums2[0],nums1[1],nums2[1],nums1[2],nums2[2]),5);
    document.getElementById('t2p_input_t').value = round(Math.abs(result[0]),5);
    document.getElementById('t2p_input_df').value = round(result[1],5);
    document.getElementById('p2t_input_df').value = round(result[1],5);
    t2p();
  }
  function show_ftest(){
    let nums1 = document.getElementById('ftest_input1').value.trim().split(/[,\s]+/).map(Number);
    let nums2 = document.getElementById('ftest_input2').value.trim().split(/[,\s]+/).map(Number);
    let fvalue = (nums1[0]/nums2[0])**2;
    let pvalue = f_to_p(fvalue,nums1[1],nums2[1])
    document.getElementById('ftest_output_f').innerText = 'f = ' + round(fvalue,5);
    document.getElementById('ftest_output_p_up').innerText = 'upper p = ' + round(pvalue,5);
    document.getElementById('ftest_output_p_low').innerText = 'lower p = ' + round(1-pvalue,5);
    document.getElementById('f2p_input_f').value = round(fvalue,5);
    document.getElementById('f2p_input_df').value = `${nums1[1]} ${nums2[1]}`;
    document.getElementById('p2f_input_df').value = `${nums1[1]} ${nums2[1]}`;
    f2p();
  }

  ///// validate p value/////
  function validateP(){
    let elem = event.target;
    let p = elem.value;
    if(p!='' && (p<0 || p>0.5)){
      elem.classList.add('is-invalid');
    }else{
      elem.classList.remove('is-invalid');
    }
  }
  document.getElementById('p2z_input').oninput = validateP;
  document.getElementById('p2t_input_p').oninput = validateP;
  document.getElementById('p2chi_input_p').oninput = validateP;
  document.getElementById('p2f_input_p').oninput = validateP;


  // functions for calcualation z,t,chi<>P
  function z2p(){
    let z = document.getElementById('z2p_input').value;
    document.getElementById('z2p_output').innerText = 'p=' + round(z_to_p(z),5);
  }
  function p2z(){
    if(!document.getElementById('p2z_input').classList.contains('is-invalid')){
      let p = document.getElementById('p2z_input').value;
      document.getElementById('p2z_output').innerText = 'z=' + round(p_to_z(p),5);
    }
  }
  function t2p(){
    let t = Number(document.getElementById('t2p_input_t').value);
    let df = Number(document.getElementById('t2p_input_df').value);
    document.getElementById('t2p_output').innerText = 'p=' + round(t_to_p(t,df),5);
  }
  function p2t(){
    if(!document.getElementById('p2t_input_p').classList.contains('is-invalid')){
      let p = Number(document.getElementById('p2t_input_p').value);
      let df = Number(document.getElementById('p2t_input_df').value);
      document.getElementById('p2t_output').innerText = 't=' + round(p_to_t(p,df),5);
    }
  }
  function chi2p(){
    let chi = Number(document.getElementById('chi2p_input_chi').value);
    let df = Number(document.getElementById('chi2p_input_df').value);
    let answer = round(chi_to_p(chi,df),5);
    document.getElementById('chi2p_output_up').innerHTML = 'upper p=' + answer;
    document.getElementById('chi2p_output_low').innerHTML = 'lower p=' + round(1-answer,5);
  }
  function p2chi(){
    if(!document.getElementById('p2chi_input_p').classList.contains('is-invalid')){
      let p = Number(document.getElementById('p2chi_input_p').value);
      let df = Number(document.getElementById('p2chi_input_df').value);
      let answer1 = round(p_to_chi(p,df),5);
      let answer2 = round(p_to_chi(1-p,df),5);
      document.getElementById('p2chi_output_up').innerHTML = 'upper χ<sup>2</sup>=' + answer1;
      document.getElementById('p2chi_output_low').innerHTML = 'lower χ<sup>2</sup>=' + answer2;
    }
  }
  function f2p(){
    let f = Number(document.getElementById('f2p_input_f').value);
    let df = document.getElementById('f2p_input_df').value.trim().split(/\s+/).map(Number);
    if(df.length==2 && df.every(Number)){
      document.getElementById('f2p_input_df').classList.remove('is-invalid');
      let answer = round(f_to_p(f,df[0],df[1]),5);
      document.getElementById('f2p_output_up').innerHTML = 'upper p=' + answer;
      document.getElementById('f2p_output_low').innerHTML = 'lower p=' + round(1-answer,5);
    }else{
      document.getElementById('f2p_input_df').classList.add('is-invalid');
      document.getElementById('f2p_input_df').focus();
    }
  }
  function p2f(){
    if(!document.getElementById('p2f_input_p').classList.contains('is-invalid')){
      let p = Number(document.getElementById('p2f_input_p').value);
      let df = document.getElementById('p2f_input_df').value.trim().split(/\s+/).map(Number);
      if(df.length==2 && df.every(Number)){
        document.getElementById('p2f_input_df').classList.remove('is-invalid'); //validate df
        let answer1 = round(p_to_f(p,df[0],df[1]),5);
        let answer2 = round(p_to_f(1-p,df[0],df[1]),5);
        document.getElementById('p2f_output_up').innerHTML = 'upper F=' + answer1;
        document.getElementById('p2f_output_low').innerHTML = 'lower F=' + answer2;
      }else{
        document.getElementById('p2f_input_df').classList.add('is-invalid');
        document.getElementById('p2f_input_df').focus();
      }
    }
  }

  // chi2 test
  function chitest_select(){
    if(document.getElementById('chitest_selectbox').value=="fit"){
      document.getElementById('chitest_description').innerText = "1st row: observations　2nd row: expected ratio, e.g. 1:2:3";
      document.getElementById('chitest_output_row_E').style.display = '';
    }else{
      document.getElementById('chitest_description').innerText = "1st row: data1　2nd row: data2";
      document.getElementById('chitest_output_row_E').style.display = 'none';
    }
    
  }
  const chitest_inputs1 = ['chitest_input11','chitest_input12','chitest_input13','chitest_input14','chitest_input15','chitest_input16','chitest_input17','chitest_input18']
  const chitest_inputs2 = ['chitest_input21','chitest_input22','chitest_input23','chitest_input24','chitest_input25','chitest_input26','chitest_input27','chitest_input28']
  const chitest_E = ['chitest_E1','chitest_E2','chitest_E3','chitest_E4','chitest_E5','chitest_E6','chitest_E7','chitest_E8']
  function show_chitest(){
    let arr1 = []; let arr2 = [];
    // collect input1
    for(id of chitest_inputs1){
      var num = Number(document.getElementById(id).value);
      if(num!=0 && num!=NaN){
        arr1.push(num);
      }else{break;}
    }
    // collect input2
    for(id of chitest_inputs2){
      var num = Number(document.getElementById(id).value);
      if(num!=0 && num!=NaN){
        arr2.push(num);
      }else{break;}
    }
    if(arr1.length!=0 && arr1.length==arr2.length){
      let sum1 = sum(arr1); let sum2 = sum(arr2);
      let chi2_value = 0;
      // test for fit
      if(document.getElementById('chitest_selectbox').value=='fit'){
        arr2 = arr2.map(x => x*sum1/sum2); // convert to Ei
        for(var i=0;i<8;i++){
          if(arr2[i]!=undefined){
          document.getElementById(chitest_E[i]).innerHTML = `E<sub>${i+1}</sub>=${round(arr2[i],5)}`;
          }else{
          document.getElementById(chitest_E[i]).innerHTML = `E<sub>${i+1}</sub>`;
          }
        }
        chi2_value = chi2(arr1,arr2);
      }else{ // test for independence
        chi2_value = chi2_independence(arr1,arr2);
      }
      let df = arr1.length-1;
      document.getElementById('chitest_output_chi').innerHTML = `χ<sup>2</sup> = ${round(chi2_value,5)}`;
      document.getElementById('chitest_output_df').innerText = `df = ${df}`;
      document.getElementById('chi2p_input_chi').value = round(chi2_value,5);
      document.getElementById('chi2p_input_df').value = df;
      document.getElementById('p2chi_input_df').value = df;
      chi2p();
    }
  }

  function show_poisson(){
    var elem1 = document.getElementById('poisson_input1');
    var elem2 = document.getElementById('poisson_input2');
    if(!elem1.classList.contains('is-invalid') && !elem2.classList.contains('is-invalid')){
      var l = Math.round(elem1.value); var k = Math.round(elem2.value);
      p = poisson(l,k); cum = poisson_cum(l,k);
      document.getElementById('poisson_output1').innerText = `P(X=${k})=` + round(p,5);
      document.getElementById('poisson_output2').innerText = `P(X≥${k})=` + round(cum,5);
    }
  }

  // validate poisson
  document.getElementById('poisson_input1').oninput = validation_poisson;
  document.getElementById('poisson_input2').oninput = validation_poisson;
  function validation_poisson(){
    var l = document.getElementById('poisson_input1').value;
    var k = document.getElementById('poisson_input2').value;
    if(l!='' && Number(l)<0){
      document.getElementById('poisson_input1').classList.add('is-invalid')
    }else{
      document.getElementById('poisson_input1').classList.remove('is-invalid')
    }
    if(k!='' && !Number.isInteger(Number(k))){
      document.getElementById('poisson_input2').classList.add('is-invalid')
    }else{
      document.getElementById('poisson_input2').classList.remove('is-invalid')
    }
  }


  // validate gamma
  document.getElementById('gamma_input1').oninput = validation_gamma;
  document.getElementById('gamma_input2').oninput = validation_gamma;
  document.getElementById('gamma_input3').oninput = validation_gamma;
  function validation_gamma(){
    var t = document.getElementById('gamma_input1').value;
    var k = document.getElementById('gamma_input2').value;
    var x = document.getElementById('gamma_input3').value;
    if(t='' || Number(t)>=0){
      document.getElementById('gamma_input1').classList.remove('is-invalid')
    }else{
      document.getElementById('gamma_input1').classList.add('is-invalid')
    }
    if(k='' || Number(k)>=0){
      document.getElementById('gamma_input2').classList.remove('is-invalid')
    }else{
      document.getElementById('gamma_input2').classList.add('is-invalid')
    }
    if(x='' || Number(x)>=0){
      document.getElementById('gamma_input3').classList.remove('is-invalid')
    }else{
      document.getElementById('gamma_input3').classList.add('is-invalid')
    }
  }
  function show_gamma(){
    var elem1 = document.getElementById('gamma_input1');
    var elem2 = document.getElementById('gamma_input2');
    var elem3 = document.getElementById('gamma_input3');
    if(!elem1.classList.contains('is-invalid') && !elem2.classList.contains('is-invalid') && !elem3.classList.contains('is-invalid')){
      var t = elem1.value;
      var k = elem2.value;
      var x = elem3.value;
      var gamma_k = gamma(k);
      var p = x**(k-1)*(Math.E**(-x/t))/gamma_k/(t**k);
      var cum = incomplete_gamma(k,x/t)/gamma_k;
      document.getElementById('gamma_output1').innerText = 'P(t) = ' + round(p,5);
      document.getElementById('gamma_output2').innerText = 'P(x≥t) = ' + round(1-cum,5);
    }
  }


// inputs(array) - ID of input to be empty string
// labelsID(dict) - {ID: innerText}
// focusID(string) - one element to be focused
// labels_class(dict) - {classname: innerText}
class ResetBtn{
  constructor(inputIDs,labelIDs,focusID,labelclass=null,inputclass=null){
    this.inputIDs = inputIDs;
    this.labelIDs = labelIDs;
    this.focus = focusID;
    this.labelclass = labelclass;
    this.inputclass = inputclass;
    
  }
  reset(){
    for(var elemID of this.inputIDs){ // reset input
      document.getElementById(elemID).value = '';
    }
    for(var labelID in this.labelIDs){ // reset label
      document.getElementById(labelID).innerHTML = this.labelIDs[labelID];
    }
    for(var label_class in this.labelclass){ 
      for(var elem of document.getElementsByClassName(label_class)){
        elem.innerHTML = this.labelclass[label_class];
      }
    }
    for(var input_class in this.inputclass){ 
      for(var elem of document.getElementsByClassName(input_class)){
        elem.value = this.inputclass[input_class];
      }
    }
    document.getElementById(this.focus).focus(); // focus
  }
}
var reset_base = new ResetBtn(['num_to_convert'],{'answer':'answer'},'num_to_convert');
var reset_gcd = new ResetBtn(['gcd_input'],{'answer_gcd':'answer'},'gcd_input');
var reset_stats = new ResetBtn(['stats_input1','stats_input2'],{'stats_cov':'covariance','stats_corr':'correlation','stats_regression':'regression','stats_pooled_sd':'pooled SD'},'stats_input1',{'stats_output':0});
var reset_ttest = new ResetBtn(['ttest_input1','ttest_input2'],{'ttest_output_t':'t-value','ttest_output_df':'df','ttest_output_p':'p(t≤x)','ttest_output_effect':'Cohen d'},'ttest_input1');
var reset_ftest = new ResetBtn(['ftest_input1','ftest_input2'],{'ftest_output_f':'F-value','ftest_output_p_up':'p(F≤x)','ftest_output_p_low':'p(x≤F)'},'ftest_input1');
var reset_z2p = new ResetBtn(['z2p_input'],{'z2p_output':'p(z≤x)'},'z2p_input');
var reset_p2z = new ResetBtn(['p2z_input'],{'p2z_output':'z-score'},'p2z_input');
var reset_t2p = new ResetBtn(['t2p_input_t','t2p_input_df'],{'t2p_output':'p(t≤x)'},'t2p_input_t');
var reset_p2t = new ResetBtn(['p2t_input_p','p2t_input_df'],{'p2t_output':'t-value'},'p2t_input_p');
var reset_chi2p = new ResetBtn(['chi2p_input_chi','chi2p_input_df'],{'chi2p_output_up':'p(χ<sup>2</sup>≤x)','chi2p_output_low':'p(x≤χ<sup>2</sup>)'},'chi2p_input_chi');
var reset_p2chi = new ResetBtn(['p2chi_input_p','p2chi_input_df'],{'p2chi_output_up':'χ<sup>2</sup>','p2chi_output_low':'χ<sup>2</sup>'},'p2chi_input_p');
var reset_f2p = new ResetBtn(['f2p_input_f','f2p_input_df'],{'f2p_output_up':'p(F≤x)','f2p_output_low':'p(x≤F)'},'f2p_input_f');
var reset_p2f = new ResetBtn(['p2f_input_p','p2f_input_df'],{'p2f_output_up':'F-value','p2f_output_low':'F-value'},'p2f_input_p');
var reset_chitest = new ResetBtn([],
{'chitest_output_chi':'χ<sup>2</sup>','chitest_output_df':'df','chitest_E1':'E<sub>1</sub>','chitest_E2':'E<sub>2</sub>','chitest_E3':'E<sub>3</sub>','chitest_E4':'E<sub>4</sub>','chitest_E5':'E<sub>5</sub>','chitest_E6':'E<sub>6</sub>','chitest_E7':'E<sub>7</sub>','chitest_E8':'E<sub>8</sub>'}
,'chitest_input11',null,{'chitest_input':''});
var reset_poisson = new ResetBtn(['poisson_input1','poisson_input1'],{'poisson_output1':'P(X=k)','poisson_output1':'P(X≥k)'},'poisson_input1')
var reset_gamma = new ResetBtn(['gamma_input1','gamma_input2','gamma_input3'],{'gamma_output1':'P(t)','gamma_output2':'P(t)'},'gamma_input1')


  function show_function(){
    elem = document.getElementById('functions');
    if(elem.style.display=='none'){
      elem.style.display='block';
    }else{
      elem.style.display='none'
    }
  }

  function copy_to_clipboard(){
    var temp_elem = document.createElement("textarea");
    temp_elem.textContent = Number(event.target.innerText.split('=').slice(-1)[0]);
    var body_elem = document.getElementsByTagName("body")[0];
    body_elem.appendChild(temp_elem);
    temp_elem.select();
    document.execCommand("Copy");
    body_elem.removeChild(temp_elem);
  }

</script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="./js/bootstrap.min.js"></script>

<script type="text/javascript">
  $('.bs-component [data-toggle="popover"]').popover();
  $('.bs-component [data-toggle="tooltip"]').tooltip();
</script>
</body>
</html>
